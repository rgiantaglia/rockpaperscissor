<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shoot!</title>
    <script src="game-java.js"></script>
</head>
<body>

    <div id="container">
        <button id="rock" value="Rock">Rock</button>
        <button id="paper" value="Paper">Paper</button>
        <button id="scissor" value="Scissor">Scissor</button>
    <div>

    <div id="scoreBoard">
        <p id="yourScore">Your Score:</p>
        <p id="computerScore">Computer Score:</p>
    </div>

   <script>


        let yourScore = 0;
        let computerScore = 0;


        const buttons = document.querySelectorAll('button');
        document.addEventListener('click', function (e) {

        const button = document.querySelector(`button[value="${e.target.value}"]`);
        const playerSelection = button.value.toString();
        console.log(playerSelection);
        
        const container = document.querySelector('#container');

        const content = document.createElement('p');
        content.classList.add('content');
        container.appendChild(content);


        function computerPlay(){
        const rpsgame = ["Rock" , "Paper", "Scissor"];
        const random = Math.floor(Math.random() * rpsgame.length);
        return (random, rpsgame [random]);
        }
        computerSelection = computerPlay();
        console.log(computerSelection);
        

        function playRound(playerSelection, computerSelection){

        if (playerSelection === "Rock" && computerSelection === "Scissor") content.textContent = `You chose ${playerSelection} and the computer chose ${computerSelection}. You won this match! ${playerSelection} beats ${computerSelection}`;
        if (playerSelection == "Paper" && computerSelection == "Rock") content.textContent = `You chose ${playerSelection} and the computer chose ${computerSelection}. You won this match! ${playerSelection} beats ${computerSelection}`;
        if (playerSelection == "Scissor" && computerSelection == "Paper") content.textContent = `You chose ${playerSelection} and the computer chose ${computerSelection}. You won this match! ${playerSelection} beats ${computerSelection}`;
        if (playerSelection == "Rock" && computerSelection == "Paper") content.textContent = `You chose ${playerSelection} and the computer chose ${computerSelection}. You lost this time! ${computerSelection} beats ${playerSelection}`;
        if (playerSelection == "Paper" && computerSelection == "Scissor") content.textContent = `You chose ${playerSelection} and the computer chose ${computerSelection}. You lost this time! ${computerSelection} beats ${playerSelection}`;
        if (playerSelection == "Scissor" && computerSelection == "Rock") content.textContent = `You chose ${playerSelection} and the computer chose ${computerSelection}. You lost this time! ${computerSelection} beats ${playerSelection}`;
        if (playerSelection == computerSelection) content.textContent = `You chose ${playerSelection} and the computer chose ${computerSelection}. It's a tie!`;

        if (content.textContent.includes('won') == true) yourScore++;
        document.getElementById('yourScore').innerText = 'Your Score: ' + yourScore;

        if (content.textContent.includes('lost') == true) computerScore++;    
        document.getElementById('computerScore').innerText = 'Computer Score ' + computerScore;



        }

        function playAgain(){
            
            if (yourScore === 5){
                alert('YOU WON!!!');
                let playAgain = confirm('Do you want to play another game?');
                if (playAgain) location.reload('#scoreBoard');
                else {
                    alert('Thanks for playing. See you next time!');
                    location.reload('#scoreBoard');
                }
            }

            if (computerScore === 5){
                alert('You lost!');
                let playAgain = confirm('Do you want to play another game?');
                if (playAgain) location.reload('#scoreBoard');
                else {
                    alert('Thanks for playing. See you next time!');
                    location.reload('#scoreBoard');
                }           
            }

        }
    
        playAgain();

        playRound(playerSelection, computerSelection);



        });

   </script>
    
</body>
</html>